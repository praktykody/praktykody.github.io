<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChatAI</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.6/axios.min.js" integrity="sha512-06NZg89vaTNvnFgFTqi/dJKFadQ6FIglD6Yg1HHWAUtVFFoXli9BZL4q4EO1UTKpOfCfW5ws2Z6gw49Swsilsg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>

  <button onclick="send()">SEND</button>

<script>
let env;
( async ()=> {
  // env = await fetch("/env.json").then(dt=>dt.json())
  env = await axios.get("/env.json").then(dt=>dt.data)
  console.log({ env })
})()

send = async () => {
  const url = "https://api.openai.com/v1/chat/completions"
  const config = {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": `Bearer ${ env.OPENAI_API_KEY }`
    }
  }
  // const body = JSON.stringify({
  const data = {
    "model": "gpt-3.5-turbo",
    "messages": [{"role": "user", "content": "Hello!"}]
  // })
  }

  const ai = await axios.post(url, data, config)
  console.log({ ai })

}

</script>
</body>
</html>